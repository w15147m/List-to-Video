"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cleanupSerializedResolvedProps = exports.cleanupSerializedInputProps = void 0;
const serverless_client_1 = require("@remotion/serverless-client");
const cleanupSerializedInputProps = async ({ serialized, region, providerSpecifics, forcePathStyle, }) => {
    if (serialized.type === 'payload') {
        return 0;
    }
    const time = Date.now();
    await providerSpecifics.deleteFile({
        bucketName: serialized.bucketName,
        key: (0, serverless_client_1.inputPropsKey)(serialized.hash),
        region,
        customCredentials: null,
        forcePathStyle,
        requestHandler: null,
    });
    return Date.now() - time;
};
exports.cleanupSerializedInputProps = cleanupSerializedInputProps;
const cleanupSerializedResolvedProps = async ({ serialized, region, providerSpecifics, forcePathStyle, }) => {
    if (serialized.type === 'payload') {
        return 0;
    }
    const time = Date.now();
    await providerSpecifics.deleteFile({
        bucketName: serialized.bucketName,
        key: (0, serverless_client_1.resolvedPropsKey)(serialized.hash),
        region,
        customCredentials: null,
        forcePathStyle,
        requestHandler: null,
    });
    return Date.now() - time;
};
exports.cleanupSerializedResolvedProps = cleanupSerializedResolvedProps;
