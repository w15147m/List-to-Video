"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.quotasCommand = exports.QUOTAS_COMMAND = void 0;
const cli_1 = require("@remotion/cli");
const constants_1 = require("@remotion/lambda-client/constants");
const increase_1 = require("./increase");
const list_1 = require("./list");
exports.QUOTAS_COMMAND = 'quotas';
const printHelp = (logLevel) => {
    cli_1.CliInternals.Log.info({ indent: false, logLevel }, 'Available commands:');
    cli_1.CliInternals.Log.info({ indent: false, logLevel });
    cli_1.CliInternals.Log.info({ indent: false, logLevel }, `npx ${constants_1.BINARY_NAME} ${exports.QUOTAS_COMMAND}`);
    cli_1.CliInternals.Log.info({ indent: false, logLevel }, cli_1.CliInternals.chalk.gray('List relevant AWS Lambda quotas.'));
    cli_1.CliInternals.Log.info({ indent: false, logLevel });
    cli_1.CliInternals.Log.info({ indent: false, logLevel }, `npx ${constants_1.BINARY_NAME} ${exports.QUOTAS_COMMAND} ${increase_1.INCREASE_SUBCOMMAND}`);
    cli_1.CliInternals.Log.info({ indent: false, logLevel }, cli_1.CliInternals.chalk.gray('Increase Lambda quotas.'));
};
const quotasCommand = (args, logLevel) => {
    if (args.filter(Boolean).length === 0) {
        return (0, list_1.quotasListCommand)(logLevel);
    }
    if (args[0] === increase_1.INCREASE_SUBCOMMAND) {
        return (0, increase_1.quotasIncreaseCommand)(logLevel, null);
    }
    cli_1.CliInternals.Log.error({ indent: false, logLevel }, 'Subcommand ' + args[0] + ' not found.');
    printHelp(logLevel);
};
exports.quotasCommand = quotasCommand;
