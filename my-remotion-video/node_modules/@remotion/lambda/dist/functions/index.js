"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = exports.routine = void 0;
const lambda_client_1 = require("@remotion/lambda-client");
const serverless_1 = require("@remotion/serverless");
const aws_server_implementation_1 = require("./aws-server-implementation");
const streamify_response_1 = require("./helpers/streamify-response");
const routine = (params, responseStream, context) => {
    const responseWriter = (0, serverless_1.streamWriter)(responseStream);
    return (0, serverless_1.innerHandler)({
        params,
        responseWriter,
        context,
        providerSpecifics: lambda_client_1.LambdaClientInternals.awsImplementation,
        insideFunctionSpecifics: aws_server_implementation_1.serverAwsImplementation,
    });
};
exports.routine = routine;
exports.handler = (0, streamify_response_1.streamifyResponse)(exports.routine);
