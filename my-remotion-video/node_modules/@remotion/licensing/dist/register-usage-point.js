"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.registerUsageEvent = exports.HOST = void 0;
exports.HOST = 'https://www.remotion.pro';
const registerUsageEvent = async ({ apiKey, host, succeeded, event, }) => {
    const res = await fetch(`${exports.HOST}/api/track/register-usage-point`, {
        method: 'POST',
        body: JSON.stringify({
            event,
            apiKey,
            host,
            succeeded,
        }),
        headers: {
            'Content-Type': 'application/json',
        },
    });
    const json = (await res.json());
    if (json.success) {
        return {
            billable: json.billable,
            classification: json.classification,
        };
    }
    if (!res.ok) {
        throw new Error(json.error);
    }
    const read = await res.json();
    return read;
};
exports.registerUsageEvent = registerUsageEvent;
